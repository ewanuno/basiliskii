# AmigaOS makefile for Basilisk II

## System specific configuration
CC = sc
CFLAGS = MCCONS STRINGMERGE UTILLIB NOSTACKCHECK CPU=68020 MATH=IEEE IGNORE=1534,1597 OBJNAME=/AmigaOS/	# OPT OPTSCHED PARM=REGISTER
LDFLAGS = MATH=IEEE SMALLCODE SMALLDATA STRIPDEBUG
INCLUDES = IDIR=/include
LIBS = LIB lib:debug.lib
AFLAGS = CPU=68020

## Files
OBJS = prefs.o rom_patches.o slot_rom.o rsrc_patches.o emul_op.o macos_util.o \
       xpram.o timer.o adb.o serial.o ether.o sony.o disk.o cdrom.o scsi.o \
       video.o audio.o user_strings.o \
       main_amiga.o asm_support.o prefs_amiga.o prefs_editor_amiga.o \
       sys_amiga.o xpram_amiga.o timer_amiga.o clip_amiga.o serial_amiga.o \
       ether_amiga.o scsi_amiga.o audio_amiga.o video_amiga.o
APP = BasiliskII

## Rules
$(APP): $(OBJS)
	$(CC) $(LDFLAGS) LINK $(OBJS) $(LIBS) TO $(APP)

clean:
	-delete $(APP) $(OBJS)

prefs.o: /prefs.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /prefs.cpp
rom_patches.o: /rom_patches.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /rom_patches.cpp
slot_rom.o: /slot_rom.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /slot_rom.cpp
rsrc_patches.o: /rsrc_patches.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /rsrc_patches.cpp
emul_op.o: /emul_op.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /emul_op.cpp
macos_util.o: /macos_util.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /macos_util.cpp
xpram.o: /xpram.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /xpram.cpp
timer.o: /timer.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /timer.cpp
adb.o: /adb.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /adb.cpp
serial.o: /serial.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /serial.cpp
ether.o: /ether.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /ether.cpp
sony.o: /sony.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /sony.cpp
disk.o: /disk.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /disk.cpp
cdrom.o: /cdrom.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /cdrom.cpp
scsi.o: /scsi.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /scsi.cpp
video.o: /video.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /video.cpp
audio.o: /audio.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /audio.cpp
user_strings.o: /user_strings.cpp
	$(CC) $(INCLUDES) $(CFLAGS) /user_strings.cpp

main_amiga.o: main_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) main_amiga.cpp
asm_support.o: asm_support.asm
	$(CC) $(INCLUDES) $(AFLAGS) asm_support.asm
prefs_amiga.o: prefs_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) prefs_amiga.cpp
prefs_editor_amiga.o: prefs_editor_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) prefs_editor_amiga.cpp
sys_amiga.o: sys_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) sys_amiga.cpp
xpram_amiga.o: xpram_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) xpram_amiga.cpp
timer_amiga.o: timer_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) timer_amiga.cpp
clip_amiga.o: clip_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) clip_amiga.cpp
serial_amiga.o: serial_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) serial_amiga.cpp
ether_amiga.o: ether_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) ether_amiga.cpp
scsi_amiga.o: scsi_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) scsi_amiga.cpp
audio_amiga.o: audio_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) audio_amiga.cpp
video_amiga.o: video_amiga.cpp
	$(CC) $(INCLUDES) $(CFLAGS) video_amiga.cpp
